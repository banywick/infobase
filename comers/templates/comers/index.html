
<!DOCTYPE html>
{% load static %}
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'comers/css/comers.css' %}">
    <title>Установка фильтров</title>
</head>
<body>

        <div class="filter-section">
            <div class="navigate_back_page">
                <div class="arrow_back_page">
                    <img  src="{% static '/comers/icons/arrow_back.png' %}" alt="<">   
                        <p>На главную</p>
                </div>
                        <div>   
                            <div>
                                <p>База обновлена 22.11.2025</p>
                            </div>
                            
                        </div>     
            </div>
                <div class="info_sting_report ">
                        <p class="set_filters">Установка фильтров</p>
                        <div class="button button--white ">
                            <img src="{% static '/comers/icons/icon_report.png' %}" alt="Скачать отчет">  
                            <div class="open-btn" data-popup="popup4" >Скачать отчет</div>
                        </div>
                </div>
            <div class="filter_choises">
                <div>   
                        <label class="filter-label">Выбор поставщика</label>
                        <select id="supplierFilter" class="input_wrapper">
                            <option>ЗАО профессиональные профессионалы</option>
                        </select>
                </div> 
                <div>
                        <label>Выбор ведущего накладную</label>
                        <select id="leadingFilter" class="input_wrapper">
                            <option>Иванов Иван Иванович</option>
                        </select>
                </div>
                <div>
                        <label>Выбор статуса</label>
                        <select id="statusFilter" class="input_wrapper">
                            <option>Все</option>
                        </select>
                </div>
                <div class="buttons_navigate_choice">
                    <button class="button button--red">Сбросить</button>
                    <button class="button button--green">Применить</button>

                    <!-- В кнопке два окна Popup-->
                    <div class="open-btn" data-popup="popup1">
                        <div class="button button--dark-blue ">
                            <img src="{% static '/comers/icons/icon_add_data.png' %}" alt="Внести данные">  
                            <div>Внести данные</div>
                        </div>
                    </div>
                </div>
            </div>
        
            <!-- Окно 1: с формой -->
            <div id="popup1" class="my-popup">
                <div class="popup-content">
                    <div class="popup-header">
                        <span class="drag-handle">☰</span>
                        <h2>Внести данные</h2>
                        <span class="close-btn">&times;</span>
                    </div>
                    <div class="content-area">
                        <div class="add_data_user">
                            <div class="button button--white ">
                                <img src="{% static '/comers/icons/icon_add_supplier.png' %}" alt="Внести данные">  
                                <div class="open-btn" data-popup="popup2">Добавить поставщика</div>
                            </div>
                            <div class="button button--dark-blue ">
                                <img src="{% static '/comers/icons/icon_add_data.png' %}" alt="Внести данные">  
                                <div class="open-btn" data-popup="popup3">Внести данные</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Окно 2: Добавление поставщика -->
            <div id="popup2" class="my-popup">
                <div class="popup-content">
                    <div class="popup-header">
                        <span class="drag-handle">☰</span>
                        <h2>Добавить поставщика</h2>
                        <span class="close-btn">&times;</span>
                    </div>
                    <div class="content-area">
                        <form id="add_suppler_form" method="post">
                            {% csrf_token %}
                            {{add_suppler_form}}
                            <button type="submit" class="button button--green button_supplier ">Отправить</button>
                        </form>
                    </div>
                </div>
            </div>
            
            <!-- Окно 3: Форма с заявкой -->
            <div id="popup3" class="my-popup">
                <div class="add_data_mode popup-content">
                    <div class="popup-header">
                        <span class="drag-handle">☰</span>
                        <h2>Форма внесения данных</h2>
                        <span class="close-btn">&times;</span>
                    </div>
                    <div class="content-area">
                        <form id="inputDataForm" method="post" class="data-entry-form">
                            {% csrf_token %}
                    
                            <div class="form-columns">
                                <!-- Левая колонка -->
                                <div class="form-column">
                                    <!-- Накладная -->
                                    <div class="form-group">
                                        <div class="form-group">
                                            {{ input_data_form.invoice_number.label }}  <!-- Автоматический лейбл -->
                                            {{ input_data_form.invoice_number }}  <!-- Django сам подставит класс и required -->
                                        </div>
                                    </div>
                    
                                    <!-- Дата -->
                                    <div class="form-group">
                                        <div class="form-group">
                                            {{ input_data_form.date.label }}  <!-- Автоматический лейбл -->
                                            {{ input_data_form.date }}  <!-- Django сам подставит класс и required -->
                                        </div>
                                    </div>
                    
                                    <!-- Поставщик -->
                                    <div class="form-group">
                                        <div class="form-group">
                                            {{ input_data_form.supplier.label }}  <!-- Автоматический лейбл -->
                                            {{ input_data_form.supplier }}  <!-- Django сам подставит класс и required -->
                                        </div>
                                    </div>
                    
                                    <!-- Артикул -->
                                    <div class="form-row">
                                        <div class="form-group">
                                            {{ input_data_form.article_mirror.label }}  <!-- Автоматический лейбл -->
                                            {{ input_data_form.article_mirror }}  <!-- Django сам подставит класс и required -->
                                        </div>

                                        <!-- Количество -->
                                        <div class="form-group">
                                            {{ input_data_form.quantity.label }}  <!-- Автоматический лейбл -->
                                            {{ input_data_form.quantity }}  <!-- Django сам подставит класс и required -->
                                        </div>
                                    </div>

                                    <!-- Наименование Автоматическая подстановка -->
                                    <div class="form-group">
                                        {{ input_data_form.name.label }}  <!-- Автоматический лейбл -->
                                        {{ input_data_form.name }}  <!-- Django сам подставит класс и required -->
                                    </div>
                                </div>
                    
                                <!-- Правая колонка -->
                                <div class="form-column">
                                    <!-- Комментарий по товару -->
                                    <div class="form-group">
                                        {{ input_data_form.comment.label }}  <!-- Автоматический лейбл -->
                                        {{ input_data_form.comment }}  <!-- Django сам подставит класс и required -->
                                    </div>
                    
                                    <!-- Описание проблемы -->
                                    <div class="form-group">
                                        {{ input_data_form.description_problem.label }}  <!-- Автоматический лейбл -->
                                        {{ input_data_form.description_problem }}  <!-- Django сам подставит класс и required -->
                                    </div>
                    
                                    <!-- Специалист -->
                                    <div class="form-group">
                                        {{ input_data_form.specialist.label }}  <!-- Автоматический лейбл -->
                                        {{ input_data_form.specialist }}  <!-- Django сам подставит класс и required -->
                                    </div>
                    
                                    <!-- Ведущий накладную -->
                                    <div class="form-group">
                                        {{ input_data_form.leading.label }}  <!-- Автоматический лейбл -->
                                        {{ input_data_form.leading }}  <!-- Django сам подставит класс и required -->
                                    </div>
                                </div>
                            </div>
                    
                            <!-- Скрытые поля -->
                            <input type="hidden" id="hidden_unit" name="{{ input_data_form.unit.html_name }}">
                            <input type="hidden" id="hidden_article" name="{{ input_data_form.article.html_name }}">
                            <input type="hidden" id="hidden_project" name="{{ input_data_form.project.html_name }}">
                    
                            <!-- Кнопки -->
                            <div class="form-buttons">
                                <button type="button" class="button button--red ">Отменить</button>
                                <button type="button" class="send_data_form_button button button--green">Внести данные</button>
                            </div>
                        </form>
                    </div>
                    
                    
                    
                </div>
            </div>
            <!-- Окно 3: Меню с отчетом -->
            <div id="popup4" class="my-popup">
                <div class="popup-content">
                    <div class="popup-header">
                        <span class="drag-handle">☰</span>
                        <h2>Ваше окно</h2>
                        <span class="close-btn">&times;</span>
                    </div>
                    <div class="content-area">
                        форма с джанго
                        <form action="">
                            {% csrf_token %}
                            {{input_data_form}}
                        </form>
                        
                    </div>
                </div>
            </div>
            {% for supplier in input_data_form.supplier %}
            {{supplier.id}}{{supplier}}
             {% endfor %}
            <table>
                <thead>
                    <tr>
                        <th>номер накладной</th>
                        <th>дата накладной</th>
                        <th>поставщик</th>
                        <th>артикул</th>
                        <th>наименование</th>
                        <th>единицы измерения</th>
                        <th>количество</th>
                        <th>комментарий</th>
                        <th>описание</th>
                        <th>специалист</th>
                        <th>ведущий</th>
                        <th>статус</th>
                        <th>примечание</th>
                        <th>действия</th>
                    </tr>
                </thead>
                <tbody id="invoiceTableBody">
                    <!-- Data will be loaded here -->
            </tbody>
             </table>

 

    
    <script src='{% static 'shared\js\components\popup_manager.js' %}'></script>
    <script src='{% static 'comers\js\create_supplier.js' %}'></script>
    <script src='{% static 'comers\js\auto_fields.js' %}'></script>
    <script src='{% static 'comers\js\filters.js' %}'></script>
    <script src='{% static 'comers\js\get_all_data_load_page.js' %}'></script>
    <script src='{% static 'comers\js\query.js' %}'></script>
    <script src='{% static 'comers\js\validate_form.js' %}'></script>
</body>
</html>